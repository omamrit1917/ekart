{"ast":null,"code":"import _regeneratorRuntime from\"/Users/oamrit/Documents/temp/react-ecomm-master/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/oamrit/Documents/temp/react-ecomm-master/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/oamrit/Documents/temp/react-ecomm-master/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{NavLink}from\"react-router-dom\";import Skeleton from\"react-loading-skeleton\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Products(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(data),_useState4=_slicedToArray(_useState3,2),filter=_useState4[0],setFilter=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];var componentMounted=true;useEffect(function(){var getProducts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:setLoading(true);_context.next=3;return fetch(\"https://fakestoreapi.com/products\");case 3:response=_context.sent;if(!componentMounted){_context.next=17;break;}_context.t0=setData;_context.next=8;return response.clone().json();case 8:_context.t1=_context.sent;(0,_context.t0)(_context.t1);_context.t2=setFilter;_context.next=13;return response.json();case 13:_context.t3=_context.sent;(0,_context.t2)(_context.t3);setLoading(false);console.log(filter);case 17:return _context.abrupt(\"return\",function(){componentMounted=false;});case 18:case\"end\":return _context.stop();}},_callee);}));return function getProducts(){return _ref.apply(this,arguments);};}();getProducts();},[]);var Loading=function Loading(){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/_jsx(Skeleton,{height:350})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/_jsx(Skeleton,{height:350})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/_jsx(Skeleton,{height:350})})]});};var filterProduct=function filterProduct(cat){var updatedList=data.filter(function(x){return x.category===cat;});setFilter(updatedList);};var ShowProducts=function ShowProducts(){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"buttons d-flex justify-content-center mb-5 pb-5\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-dark me-2\",onClick:function onClick(){return setFilter(data);},children:\"All\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-dark me-2\",onClick:function onClick(){return filterProduct(\"men's clothing\");},children:\"Men\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-dark me-2\",onClick:function onClick(){return filterProduct(\"women's clothing\");},children:\"Women\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-dark me-2\",onClick:function onClick(){return filterProduct(\"jewelery\");},children:\"Jewelery\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-dark me-2\",onClick:function onClick(){return filterProduct(\"electronics\");},children:\"Electronincs\"})]}),filter.map(function(product){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3 mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card h-100 text-center p-4\",children:[/*#__PURE__*/_jsx(\"img\",{src:product.image,height:\"250px\",className:\"card-img-top\",alt:product.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"h5\",{className:\"card-title mb-0\",children:[product.title.substring(0,12),\"...\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"card-text lead fw-bold\",children:[\"\\u20B9\",product.price]}),/*#__PURE__*/_jsx(NavLink,{to:\"/products/\".concat(product.id),className:\"btn  btn-outline-dark\",children:\"Buy Now\"})]})]},product.id)})});})]});};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container my-5 py-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 mb-5\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"display-6 fw-bolder text-center\",children:\"Latest Products\"}),/*#__PURE__*/_jsx(\"hr\",{})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"row justify-content-center\",children:loading?/*#__PURE__*/_jsx(Loading,{}):/*#__PURE__*/_jsx(ShowProducts,{})})]})});}","map":{"version":3,"names":["React","useState","useEffect","NavLink","Skeleton","Products","data","setData","filter","setFilter","loading","setLoading","componentMounted","getProducts","fetch","response","clone","json","console","log","Loading","filterProduct","cat","updatedList","x","category","ShowProducts","map","product","image","title","substring","price","id"],"sources":["/Users/oamrit/Documents/temp/react-ecomm-master/src/components/Products.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport Skeleton from \"react-loading-skeleton\";\n\nexport default function Products() {\n  const [data, setData] = useState([]);\n  const [filter, setFilter] = useState(data);\n  const [loading, setLoading] = useState(false);\n  let componentMounted = true;\n\n  useEffect(() => {\n    const getProducts = async () => {\n      setLoading(true);\n      const response = await fetch(\"https://fakestoreapi.com/products\");\n      if (componentMounted) {\n        setData(await response.clone().json());\n        setFilter(await response.json());\n        setLoading(false);\n        console.log(filter);\n      }\n      return () => {\n        componentMounted = false;\n      };\n    };\n    getProducts();\n  }, []);\n\n  const Loading = () => {\n    return (\n      <>\n        <div className=\"col-md-3\">\n          <Skeleton height={350} />\n        </div>\n\n        <div className=\"col-md-3\">\n          <Skeleton height={350} />\n        </div>\n\n        <div className=\"col-md-3\">\n          <Skeleton height={350} />\n        </div>\n      </>\n    );\n  };\n  const filterProduct = (cat) => {\n    const updatedList = data.filter((x) => x.category === cat);\n    setFilter(updatedList);\n  };\n  const ShowProducts = () => {\n    return (\n      <>\n        <div className=\"buttons d-flex justify-content-center mb-5 pb-5\">\n          <button\n            className=\"btn btn-outline-dark me-2\"\n            onClick={() => setFilter(data)}\n          >\n            All\n          </button>\n          <button\n            className=\"btn btn-outline-dark me-2\"\n            onClick={() => filterProduct(\"men's clothing\")}\n          >\n            Men\n          </button>\n          <button\n            className=\"btn btn-outline-dark me-2\"\n            onClick={() => filterProduct(\"women's clothing\")}\n          >\n            Women\n          </button>\n          <button\n            className=\"btn btn-outline-dark me-2\"\n            onClick={() => filterProduct(\"jewelery\")}\n          >\n            Jewelery\n          </button>\n          <button\n            className=\"btn btn-outline-dark me-2\"\n            onClick={() => filterProduct(\"electronics\")}\n          >\n            Electronincs\n          </button>\n        </div>\n        {filter.map((product) => {\n          return (\n            <>\n              <div className=\"col-md-3 mb-4\">\n                <div className=\"card h-100 text-center p-4\" key={product.id}>\n                  <img\n                    src={product.image}\n                    height=\"250px\"\n                    className=\"card-img-top\"\n                    alt={product.title}\n                  />\n                  <div className=\"card-body\">\n                    <h5 className=\"card-title mb-0\">\n                      {product.title.substring(0, 12)}...\n                    </h5>\n                    <p className=\"card-text lead fw-bold\">â‚¹{product.price}</p>\n                    <NavLink\n                      to={`/products/${product.id}`}\n                      className=\"btn  btn-outline-dark\"\n                    >\n                      Buy Now\n                    </NavLink>\n                  </div>\n                </div>\n              </div>\n            </>\n          );\n        })}\n      </>\n    );\n  };\n\n  return (\n    <>\n      <div className=\"container my-5 py-5\">\n        <div className=\"row\">\n          <div className=\"col-12 mb-5\">\n            <h1 className=\"display-6 fw-bolder text-center\">Latest Products</h1>\n            <hr />\n          </div>\n        </div>\n        <div className=\"row justify-content-center\">\n          {loading ? <Loading /> : <ShowProducts />}\n        </div>\n      </div>\n    </>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}